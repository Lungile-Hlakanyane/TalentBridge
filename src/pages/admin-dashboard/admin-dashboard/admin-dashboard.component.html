<app-top-navbar></app-top-navbar>
<div class="admin-dashboard-container">
  <!-- Welcome Banner -->
  <section class="welcome-banner">
    <h2>Welcome back, {{ adminName }}</h2>
    <p>Hereâ€™s an overview of the TalentBridge platform</p>
  </section>

  <!-- Stats Overview -->
  <section class="stats-cards">
    <div class="stat-card" (click)="goTo('admin-manage-jobs')">
      <i class="fas fa-briefcase"></i>
      <h3>{{ stats.totalJobs }}</h3>
      <p>Total Jobs</p>
    </div>

    <div class="stat-card" (click)="goTo('employers')">
      <i class="fas fa-building"></i>
      <h3>{{ stats.totalEmployers }}</h3>
      <p>Employers</p>
    </div>

    <div class="stat-card" (click)="goTo('candidates-management')">
      <i class="fas fa-users"></i>
      <h3>{{ stats.totalCandidates }}</h3>
      <p>Candidates</p>
    </div>

    <div class="stat-card" (click)="goTo('applications')">
      <i class="fas fa-file-alt"></i>
      <h3>{{ stats.totalApplications }}</h3>
      <p>Applications</p>
    </div>

    <div class="stat-card pending" (click)="goTo('pending-approvals')">
      <i class="fas fa-hourglass-half"></i>
      <h3>{{ stats.pendingApprovals }}</h3>
      <p>Pending Approvals</p>
    </div>
  </section>

  <!-- Recent Activity -->
  <section class="recent-activity">
    <h3>Recent Activity</h3>
    <ul>
      <li *ngFor="let activity of recentActivity">
        <i class="fas fa-circle"></i> {{ activity }}
      </li>
    </ul>
    <ul>
      <li >
        <i class="fas fa-circle"></i> Thabo Mjikizela was Reported for Violating the Terms and Conditions. 
      </li>
    </ul>
  </section>

<section class="recent-activity">
  <h3>Recent Updates</h3>
  <ul>
    <li *ngFor="let update of recentUpdates; let i = index">
      <i class="fas fa-circle"></i> {{ update.subject }} - {{ update.context }}
      <div class="float-right">
        <button class="btn btn-sm" (click)="toggleMenu(i)">
          Action
        </button>
        <div class="menu" *ngIf="selectedIndex === i">
          <ul>
            <li (click)="editUpdate(update)">Edit</li>
            <li (click)="deleteUpdate(update.id)">Delete</li>
          </ul>
        </div>
      </div>
    </li>
  </ul>
</section>


<!-- Make announcement container -->
<div class="announcement-container">
  <button class="announcement-btn" (click)="openModal()">
    <i class="fas fa-trash"></i> Add Update
  </button>
</div>

<!-- Modal -->
<div *ngIf="isModalOpen" class="modal-overlay">
  <div class="modal-container">
    <div class="modal-header">
      <h5 class="modal-title">Add Update</h5>
      <button type="button" class="close" (click)="closeModal()">
        <span>&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <form [formGroup]="announcementForm">
        <div class="form-group">
          <label for="subject">Subject</label>
          <input type="text" id="subject" formControlName="subject" class="form-control">
          <div *ngIf="subject?.invalid && (subject?.dirty || subject?.touched)" class="text-danger">
            Subject is required
          </div>
        </div>
        <div class="form-group">
          <label for="context">Context</label>
          <textarea id="context" formControlName="context" class="form-control"></textarea>
          <div *ngIf="context?.invalid && (context?.dirty || context?.touched)" class="text-danger">
            Context is required
          </div>
        </div>
      </form>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-secondary" (click)="closeModal()">Cancel</button>
      <button type="button" class="btn btn-primary" (click)="saveAnnouncement()">Save</button>
    </div>
  </div>
</div>



  <!-- Footer -->
  <footer class="app-footer">
    <p>&copy; 2025 TalentBridge. All Rights Reserved.</p>
    <div class="footer-links">
      <a (click)="goTo('about')">About</a> |
      <a (click)="goTo('contact')">Contact</a> |
      <a (click)="goTo('privacy')">Privacy</a>
    </div>
  </footer>
  
</div>
